<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT N5 ÏôÑÎ≤Ω ÎåÄÎπÑ ÌïôÏäµ ÏÇ¨Ïù¥Ìä∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .stat-item {
            background: rgba(255,255,255,0.2);
            padding: 15px 25px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            color: white;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            display: block;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 25px;
            background: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .nav-btn.active {
            background: #4CAF50;
            color: white;
        }

        .study-area {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-height: 500px;
        }

        .question-container {
            text-align: center;
        }

        .question {
            font-size: 1.8rem;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .japanese-text {
            font-size: 2.2rem;
            color: #2196F3;
            font-weight: bold;
            margin: 20px 0;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .option:hover {
            border-color: #2196F3;
            background: #f0f8ff;
        }

        .option.selected {
            border-color: #2196F3;
            background: #2196F3;
            color: white;
        }

        .option.correct {
            border-color: #4CAF50;
            background: #4CAF50;
            color: white;
        }

        .option.incorrect {
            border-color: #f44336;
            background: #f44336;
            color: white;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #2196F3;
            color: white;
        }

        .btn-success {
            background: #4CAF50;
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            transition: width 0.3s ease;
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.1rem;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .word-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .word-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            border-left: 5px solid #2196F3;
            transition: all 0.3s ease;
        }

        .word-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .word-japanese {
            font-size: 1.8rem;
            color: #2196F3;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .word-reading {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 10px;
        }

        .word-meaning {
            font-size: 1.1rem;
            color: #333;
        }

        .word-frequency {
            font-size: 0.9rem;
            color: #999;
            margin-top: 5px;
        }

        .hidden {
            display: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        .difficulty-selector {
            margin-bottom: 20px;
            text-align: center;
        }

        .difficulty-btn {
            padding: 8px 20px;
            margin: 0 5px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .difficulty-btn.active {
            border-color: #2196F3;
            background: #2196F3;
            color: white;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .stats {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            
            .navigation {
                flex-direction: column;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üáØüáµ JLPT N5 ÏôÑÎ≤Ω ÎåÄÎπÑ</h1>
            <p>Ï≤¥Í≥ÑÏ†ÅÏù∏ ÌïôÏäµÏúºÎ°ú Ìï©Í≤©ÏùÑ Ìñ•Ìï¥!</p>
        </div>

        <div class="stats">
            <div class="stat-item">
                <span class="stat-number" id="totalWords">250+</span>
                <span>Ï¥ù Ïñ¥ÌúòÏàò</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="studiedWords">0</span>
                <span>ÌïôÏäµÌïú Îã®Ïñ¥</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="correctRate">0%</span>
                <span>Ï†ïÎãµÎ•†</span>
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn active" onclick="showSection('quiz')">Î¨∏Ï†ú ÌíÄÍ∏∞</button>
            <button class="nav-btn" onclick="showSection('vocabulary')">Îã®Ïñ¥Ïû•</button>
            <button class="nav-btn" onclick="showSection('grammar')">Î¨∏Î≤ï Î¨∏Ï†ú</button>
            <button class="nav-btn" onclick="showSection('reading')">ÎèÖÌï¥ Ïó∞Ïäµ</button>
        </div>

        <div class="study-area">
            <!-- Î¨∏Ï†ú ÌíÄÍ∏∞ ÏÑπÏÖò -->
            <div id="quiz-section" class="section">
                <div class="difficulty-selector">
                    <button class="difficulty-btn active" onclick="setDifficulty('basic')">Í∏∞Ï¥à</button>
                    <button class="difficulty-btn" onclick="setDifficulty('intermediate')">Ï§ëÍ∏â</button>
                    <button class="difficulty-btn" onclick="setDifficulty('advanced')">Í≥†Í∏â</button>
                    <button class="difficulty-btn" onclick="setDifficulty('mixed')">Ï¢ÖÌï©</button>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>

                <div class="question-container">
                    <div class="question" id="questionText">Î¨∏Ï†úÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë...</div>
                    <div class="japanese-text" id="japaneseText"></div>
                    <div class="options" id="optionsContainer"></div>
                    <div class="controls">
                        <button class="btn btn-primary" id="submitBtn" onclick="checkAnswer()">Ï†ïÎãµ ÌôïÏù∏</button>
                        <button class="btn btn-success" id="nextBtn" onclick="nextQuestion()" style="display:none">Îã§Ïùå Î¨∏Ï†ú</button>
                        <button class="btn btn-secondary" onclick="skipQuestion()">Í±¥ÎÑàÎõ∞Í∏∞</button>
                    </div>
                    <div id="feedback" class="feedback" style="display:none"></div>
                </div>
            </div>

            <!-- Îã®Ïñ¥Ïû• ÏÑπÏÖò -->
            <div id="vocabulary-section" class="section hidden">
                <h2 style="margin-bottom: 20px; text-align: center;">JLPT N5 ÌïµÏã¨ Ïñ¥Ìúò</h2>
                <div class="word-list" id="wordList"></div>
            </div>

            <!-- Î¨∏Î≤ï Î¨∏Ï†ú ÏÑπÏÖò -->
            <div id="grammar-section" class="section hidden">
                <div class="question-container">
                    <div class="question" id="grammarQuestion">Î¨∏Î≤ï Î¨∏Ï†úÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë...</div>
                    <div class="options" id="grammarOptions"></div>
                    <div class="controls">
                        <button class="btn btn-primary" id="grammarSubmitBtn" onclick="checkGrammarAnswer()">Ï†ïÎãµ ÌôïÏù∏</button>
                        <button class="btn btn-success" id="grammarNextBtn" onclick="nextGrammarQuestion()" style="display:none">Îã§Ïùå Î¨∏Ï†ú</button>
                    </div>
                    <div id="grammarFeedback" class="feedback" style="display:none"></div>
                </div>
            </div>

            <!-- ÎèÖÌï¥ Ïó∞Ïäµ ÏÑπÏÖò -->
            <div id="reading-section" class="section hidden">
                <div class="question-container">
                    <div class="question" id="readingPassage">ÎèÖÌï¥ Î¨∏Ï†úÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë...</div>
                    <div class="question" id="readingQuestion"></div>
                    <div class="options" id="readingOptions"></div>
                    <div class="controls">
                        <button class="btn btn-primary" id="readingSubmitBtn" onclick="checkReadingAnswer()">Ï†ïÎãµ ÌôïÏù∏</button>
                        <button class="btn btn-success" id="readingNextBtn" onclick="nextReadingQuestion()" style="display:none">Îã§Ïùå Î¨∏Ï†ú</button>
                    </div>
                    <div id="readingFeedback" class="feedback" style="display:none"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ïñ¥Ìúò Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§
        const vocabularyData = [
            // Í∏∞Ï¥à Ïñ¥Ìúò (Í≥†ÎπàÏ∂ú)
            { japanese: '‰ºö„ÅÜ', reading: '„ÅÇ„ÅÜ', meaning: 'ÎßåÎÇòÎã§', frequency: 5, level: 'basic' },
            { japanese: 'Ëµ§„ÅÑ', reading: '„ÅÇ„Åã„ÅÑ', meaning: 'Îπ®Í∞õÎã§, Î∂âÎã§', frequency: 4, level: 'basic' },
            { japanese: 'Êúù', reading: '„ÅÇ„Åï', meaning: 'ÏïÑÏπ®', frequency: 5, level: 'basic' },
            { japanese: 'Âæå', reading: '„ÅÇ„Å®', meaning: 'Îí§, ÎÇòÏ§ë', frequency: 5, level: 'basic' },
            { japanese: 'Ë®Ä„ÅÜ', reading: '„ÅÑ„ÅÜ', meaning: 'ÎßêÌïòÎã§', frequency: 5, level: 'basic' },
            { japanese: '‰∏ä', reading: '„ÅÜ„Åà', meaning: 'ÏúÑ', frequency: 5, level: 'basic' },
            { japanese: 'Áîü„Åæ„Çå„Çã', reading: '„ÅÜ„Åæ„Çå„Çã', meaning: 'ÌÉúÏñ¥ÎÇòÎã§', frequency: 4, level: 'basic' },
            { japanese: 'ÈßÖ', reading: '„Åà„Åç', meaning: 'Ïó≠', frequency: 5, level: 'basic' },
            { japanese: 'Â§ß„Åç„ÅÑ', reading: '„Åä„Åä„Åç„ÅÑ', meaning: 'ÌÅ¨Îã§', frequency: 5, level: 'basic' },
            { japanese: '„ÅäÈáë', reading: '„Åä„Åã„Å≠', meaning: 'Îèà', frequency: 5, level: 'basic' },
            { japanese: 'Â§ñÂõΩ', reading: '„Åå„ÅÑ„Åì„Åè', meaning: 'Ïô∏Íµ≠', frequency: 4, level: 'basic' },
            { japanese: 'Ë≤∑„ÅÜ', reading: '„Åã„ÅÜ', meaning: 'ÏÇ¨Îã§', frequency: 5, level: 'basic' },
            { japanese: 'Â≠¶Ê†°', reading: '„Åå„Å£„Åì„ÅÜ', meaning: 'ÌïôÍµê', frequency: 5, level: 'basic' },
            { japanese: 'ÁÅ´ÊõúÊó•', reading: '„Åã„Çà„ÅÜ„Å≥', meaning: 'ÌôîÏöîÏùº', frequency: 3, level: 'basic' },
            { japanese: 'ËÅû„Åè', reading: '„Åç„Åè', meaning: 'Îì£Îã§', frequency: 5, level: 'basic' },
            { japanese: 'ÈäÄË°å', reading: '„Åé„Çì„Åì„ÅÜ', meaning: 'ÏùÄÌñâ', frequency: 4, level: 'basic' },
            { japanese: 'ÈáëÊõúÊó•', reading: '„Åç„Çì„Çà„ÅÜ„Å≥', meaning: 'Í∏àÏöîÏùº', frequency: 3, level: 'basic' },
            { japanese: 'ÂõΩ', reading: '„Åè„Å´', meaning: 'ÎÇòÎùº', frequency: 4, level: 'basic' },
            { japanese: 'Ëªä', reading: '„Åè„Çã„Åæ', meaning: 'ÏûêÎèôÏ∞®', frequency: 5, level: 'basic' },
            { japanese: 'ÂçàÂæå', reading: '„Åî„Åî', meaning: 'Ïò§ÌõÑ', frequency: 4, level: 'basic' },
            
            // Ï§ëÍ∏â Ïñ¥Ìúò
            { japanese: '‰ªäÊúà', reading: '„Åì„Çì„Åí„Å§', meaning: 'Ïù¥Î≤à Îã¨', frequency: 3, level: 'intermediate' },
            { japanese: 'È≠ö', reading: '„Åï„Åã„Å™', meaning: 'ÏÉùÏÑ†, Î¨ºÍ≥†Í∏∞', frequency: 4, level: 'intermediate' },
            { japanese: 'ÂõõÊúà', reading: '„Åó„Åå„Å§', meaning: '4Ïõî', frequency: 3, level: 'intermediate' },
            { japanese: '‰∏ã', reading: '„Åó„Åü', meaning: 'ÏïÑÎûò, Î∞ë', frequency: 4, level: 'intermediate' },
            { japanese: '‰∏ÉÊúà', reading: '„Åó„Å°„Åå„Å§', meaning: '7Ïõî', frequency: 3, level: 'intermediate' },
            { japanese: '‰∏ÉÊôÇ', reading: '„Åó„Å°„Åò', meaning: '7Ïãú', frequency: 4, level: 'intermediate' },
            { japanese: 'ÁôΩ„ÅÑ', reading: '„Åó„Çç„ÅÑ', meaning: 'Ìù¨Îã§, ÌïòÏñóÎã§', frequency: 4, level: 'intermediate' },
            { japanese: 'ÂçÉÂÜÜ', reading: '„Åõ„Çì„Åà„Çì', meaning: '1000Ïóî', frequency: 4, level: 'intermediate' },
            { japanese: 'ÂÖàÁîü', reading: '„Åõ„Çì„Åõ„ÅÑ', meaning: 'ÏÑ†ÏÉùÎãò', frequency: 5, level: 'intermediate' },
            { japanese: 'Â§ñ', reading: '„Åù„Å®', meaning: 'Î∞ñ', frequency: 3, level: 'intermediate' },
            { japanese: 'Á©∫', reading: '„Åù„Çâ', meaning: 'ÌïòÎäò', frequency: 3, level: 'intermediate' },
            { japanese: 'Â§ßÂ≠¶', reading: '„Å†„ÅÑ„Åå„Åè', meaning: 'ÎåÄÌïô', frequency: 4, level: 'intermediate' },
            { japanese: 'È´ò„ÅÑ', reading: '„Åü„Åã„ÅÑ', meaning: '(ÌÇ§Í∞Ä) ÌÅ¨Îã§, (Í∞íÏù¥) ÎπÑÏã∏Îã§, ÎÜíÎã§', frequency: 5, level: 'intermediate' },
            { japanese: 'Âá∫„Åô', reading: '„Å†„Åô', meaning: 'ÎÇ¥Îã§, Ï†úÏ∂úÌïòÎã§', frequency: 4, level: 'intermediate' },
            { japanese: 'È£ü„Åπ„Çã', reading: '„Åü„Åπ„Çã', meaning: 'Î®πÎã§', frequency: 5, level: 'intermediate' },
            { japanese: 'Â∞è„Åï„ÅÑ', reading: '„Å°„ÅÑ„Åï„ÅÑ', meaning: '(ÌÅ¨Í∏∞Í∞Ä) ÏûëÎã§', frequency: 4, level: 'intermediate' },
            { japanese: 'Êâã', reading: '„Å¶', meaning: 'ÏÜê', frequency: 4, level: 'intermediate' },
            { japanese: 'Âá∫„Çã', reading: '„Åß„Çã', meaning: 'ÎÇòÍ∞Ä(Ïò§)Îã§', frequency: 4, level: 'intermediate' },
            { japanese: 'ÈõªË©±', reading: '„Åß„Çì„Çè', meaning: 'Ï†ÑÌôî', frequency: 5, level: 'intermediate' },
            { japanese: 'ÂçÅÊó•', reading: '„Å®„Åä„Åã', meaning: '10Ïùº', frequency: 3, level: 'intermediate' },
            
            // Í≥†Í∏â Ïñ¥Ìúò
            { japanese: 'Âèã„Å†„Å°', reading: '„Å®„ÇÇ„Å†„Å°', meaning: 'ÏπúÍµ¨', frequency: 5, level: 'advanced' },
            { japanese: 'ÂúüÊõúÊó•', reading: '„Å©„Çà„ÅÜ„Å≥', meaning: 'ÌÜ†ÏöîÏùº', frequency: 3, level: 'advanced' },
            { japanese: '‰∏≠', reading: '„Å™„Åã', meaning: 'Ïïà, ÏÜç', frequency: 4, level: 'advanced' },
            { japanese: 'Èï∑„ÅÑ', reading: '„Å™„Åå„ÅÑ', meaning: 'Í∏∏Îã§', frequency: 4, level: 'advanced' },
            { japanese: '‰Ωï‰∫∫', reading: '„Å™„Çì„Å´„Çì', meaning: 'Î™á Î™Ö', frequency: 3, level: 'advanced' },
            { japanese: 'È£≤„ÇÄ', reading: '„ÅÆ„ÇÄ', meaning: 'ÎßàÏãúÎã§, ÏÇºÌÇ§Îã§', frequency: 4, level: 'advanced' },
            { japanese: 'ÂÖ•„Çã', reading: '„ÅØ„ÅÑ„Çã', meaning: 'Îì§Ïñ¥Í∞Ä(Ïò§)Îã§', frequency: 4, level: 'advanced' },
            { japanese: 'Ëä±', reading: '„ÅØ„Å™', meaning: 'ÍΩÉ', frequency: 3, level: 'advanced' },
            { japanese: '‰∫∫', reading: '„Å≤„Å®', meaning: 'ÏÇ¨Îûå', frequency: 5, level: 'advanced' },
            { japanese: 'Âè§„ÅÑ', reading: '„Åµ„Çã„ÅÑ', meaning: 'Ïò§ÎûòÎêòÎã§, ÎÇ°Îã§', frequency: 3, level: 'advanced' },
            { japanese: 'Êú¨', reading: '„Åª„Çì', meaning: 'Ï±Ö', frequency: 4, level: 'advanced' },
            { japanese: 'ÊØéÊó•', reading: '„Åæ„ÅÑ„Å´„Å°', meaning: 'Îß§Ïùº', frequency: 4, level: 'advanced' },
            { japanese: 'Ââç', reading: '„Åæ„Åà', meaning: 'Ïïû', frequency: 4, level: 'advanced' },
            { japanese: 'Âè≥', reading: '„Åø„Åé', meaning: 'Ïò§Î•∏Ï™Ω', frequency: 3, level: 'advanced' },
            { japanese: 'Ê∞¥', reading: '„Åø„Åö', meaning: 'Î¨º', frequency: 4, level: 'advanced' },
            { japanese: 'Â∫ó', reading: '„Åø„Åõ', meaning: 'Í∞ÄÍ≤å', frequency: 3, level: 'advanced' },
            { japanese: 'Ë¶ã„Åõ„Çã', reading: '„Åø„Åõ„Çã', meaning: 'Î≥¥Ïù¥Îã§, Î≥¥Ïó¨ Ï£ºÎã§', frequency: 3, level: 'advanced' },
            { japanese: 'ÈÅì', reading: '„Åø„Å°', meaning: 'Í∏∏', frequency: 3, level: 'advanced' },
            { japanese: 'Ë¶ã„Çã', reading: '„Åø„Çã', meaning: 'Î≥¥Îã§', frequency: 5, level: 'advanced' },
            { japanese: 'Êú®ÊõúÊó•', reading: '„ÇÇ„Åè„Çà„ÅÜ„Å≥', meaning: 'Î™©ÏöîÏùº', frequency: 3, level: 'advanced' }
        ];

        // Î¨∏Î≤ï Î¨∏Ï†ú Îç∞Ïù¥ÌÑ∞
        const grammarQuestions = [
            {
                question: "„ÄåÂÖàÈÄ±„ÄÄ„Éá„Éë„Éº„Éà„Å´„ÄÄ„Åã„ÅÑ„ÇÇ„ÅÆ„Å´„ÄÄÔºøÔºøÔºø„Åæ„Åó„Åü„ÄÇ„Äç",
                options: ["„Åõ„Çì„Åó„ÇÖ", "„Åõ„Çì„Åó„ÇÖ„ÅÜ", "„Åú„Çì„Åó„ÇÖ", "„Åú„Çì„Åó„ÇÖ„ÅÜ"],
                correct: 1,
                explanation: "„ÄåÂÖàÈÄ±„ÄçÎäî „Äå„Åõ„Çì„Åó„ÇÖ„ÅÜ„ÄçÎ°ú ÏùΩÏäµÎãàÎã§."
            },
            {
                question: "„Äå„Åî„ÅØ„Çì„ÅÆ„ÄÄÂæå„Åß„ÄÄÔºøÔºøÔºø„Åæ„Åó„Çá„ÅÜ„ÄÇ„Äç",
                options: ["„Å§„Åé", "„ÅÜ„Åó„Çç", "„Åæ„Åà", "„ÅÇ„Å®"],
                correct: 3,
                explanation: "ÏãúÍ∞ÑÏùò ÏàúÏÑúÎ•º ÎÇòÌÉÄÎÇº ÎïåÎäî „Äå„ÅÇ„Å®„ÄçÎ•º ÏÇ¨Ïö©Ìï©ÎãàÎã§."
            },
            {
                question: "„Äå„ÇÇ„ÅÜ„ÄÄ„ÅÑ„Å°„Å©„ÄÄÔºøÔºøÔºø„Å¶„ÄÄ„Åè„Å†„Åï„ÅÑ„ÄÇ„Äç",
                options: ["„ÅÑ„Å£„Å¶", "„Åç„Å£„Å¶", "„Åæ„Å£„Å¶", "„Åü„Å£„Å¶"],
                correct: 0,
                explanation: "„ÄåË®Ä„ÅÜ„ÄçÏùò „Å¶ÌòïÏùÄ „ÄåË®Ä„Å£„Å¶„ÄçÏûÖÎãàÎã§."
            }
        ];

        // ÎèÖÌï¥ Î¨∏Ï†ú Îç∞Ïù¥ÌÑ∞
        const readingQuestions = [
            {
                passage: "„Çè„Åü„Åó„ÅØ„ÄÄ‰ªäÊó•„ÄÅÂèã„Å†„Å°„Å®„ÄÄ„Åà„ÅÑ„Åå„Çí„ÄÄË¶ã„Å´„ÄÄË°å„Åç„Åæ„Åó„Åü„ÄÇ3„ÅãÊúàÂâç„Å´„ÄÄË¶ã„Åü„ÄÄ„Åà„ÅÑ„Åå„ÅÆ„ÄÄDVD„Åå„ÄÄ„Åª„Åó„Åã„Å£„Åü„Åã„Çâ„Åß„Åô„ÄÇË≤∑„Å£„Åü„ÄÄDVD„ÅØ„ÄÅÂèã„Å†„Å°„ÇÑ„ÄÄÂßâ„Å®„ÄÄ„ÅÑ„Å£„Åó„Çá„Å´„ÄÄË¶ã„Åæ„Åô„ÄÇ",
                question: "„Äå„Çè„Åü„Åó„Äç„ÅØ„ÄÄ‰ªäÊó•„ÄÅ‰Ωï„Çí„ÄÄ„Åó„Åæ„Åó„Åü„Åã„ÄÇ",
                options: [
                    "Âèã„Å†„Å°„Å®„ÄÄ„Åà„ÅÑ„Åå„Çí„ÄÄË¶ã„Å´„ÄÄË°å„Åç„Åæ„Åó„Åü„ÄÇ",
                    "Âèã„Å†„Å°„Å®„ÄÄDVD„Çí„ÄÄË≤∑„ÅÑ„Å´„ÄÄË°å„Åç„Åæ„Åó„Åü„ÄÇ", 
                    "Âßâ„Å®„ÄÄ„Åà„ÅÑ„Åå„Çí„ÄÄË¶ã„Å´„ÄÄË°å„Åç„Åæ„Åó„Åü„ÄÇ",
                    "Âßâ„Å®„ÄÄDVD„Çí„ÄÄË≤∑„ÅÑ„Å´„ÄÄË°å„Åç„Åæ„Åó„Åü„ÄÇ"
                ],
                correct: 0,
                explanation: "„Äå„Çè„Åü„Åó„ÅØ„ÄÄ‰ªäÊó•„ÄÅÂèã„Å†„Å°„Å®„ÄÄ„Åà„ÅÑ„Åå„Çí„ÄÄË¶ã„Å´„ÄÄË°å„Åç„Åæ„Åó„Åü„ÄçÎùºÍ≥† ÎêòÏñ¥ ÏûàÏäµÎãàÎã§."
            }
        ];

        // ÌòÑÏû¨ Î¨∏Ï†ú ÏÉÅÌÉú
        let currentQuestion = null;
        let currentQuestionIndex = 0;
        let currentDifficulty = 'basic';
        let studiedCount = 0;
        let correctCount = 0;
        let totalAttempts = 0;

        // ÏÑπÏÖò Ï†ÑÌôò
        function showSection(sectionName) {
            // Î™®Îì† ÏÑπÏÖò Ïà®Í∏∞Í∏∞
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });

            // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Î≤ÑÌäº ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // ÏÑ†ÌÉùÎêú ÏÑπÏÖò ÌëúÏãú
            document.getElementById(sectionName + '-section').classList.remove('hidden');
            event.target.classList.add('active');

            // Í∞Å ÏÑπÏÖòÎ≥Ñ Ï¥àÍ∏∞Ìôî
            if (sectionName === 'vocabulary') {
                displayVocabulary();
            } else if (sectionName === 'grammar') {
                loadGrammarQuestion();
            } else if (sectionName === 'reading') {
                loadReadingQuestion();
            } else if (sectionName === 'quiz') {
                generateQuestion();
            }
        }

        // ÎÇúÏù¥ÎèÑ ÏÑ§Ï†ï
        function setDifficulty(level) {
            currentDifficulty = level;
            document.querySelectorAll('.difficulty-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            generateQuestion();
        }

        // Î¨∏Ï†ú ÏÉùÏÑ±
        function generateQuestion() {
            let availableWords = vocabularyData;
            
            if (currentDifficulty !== 'mixed') {
                availableWords = vocabularyData.filter(word => word.level === currentDifficulty);
            }

            if (availableWords.length === 0) {
                availableWords = vocabularyData;
            }

            const randomWord = availableWords[Math.floor(Math.random() * availableWords.length)];
            const questionTypes = ['reading', 'meaning', 'kanji'];
            const questionType = questionTypes[Math.floor(Math.random() * questionTypes.length)];

            generateQuestionByType(randomWord, questionType);
        }

        function generateQuestionByType(word, type) {
            const questionContainer = document.getElementById('questionText');
            const japaneseContainer = document.getElementById('japaneseText');
            const optionsContainer = document.getElementById('optionsContainer');
            
            let question, correctAnswer, options;

            switch (type) {
                case 'reading':
                    question = "Îã§Ïùå ÌïúÏûêÏùò ÏùΩÍ∏∞Îäî?";
                    japaneseContainer.textContent = word.japanese;
                    correctAnswer = word.reading;
                    options = generateReadingOptions(word);
                    break;
                case 'meaning':
                    question = "Îã§Ïùå Îã®Ïñ¥Ïùò ÎúªÏùÄ?";
                    japaneseContainer.textContent = word.japanese + " (" + word.reading + ")";
                    correctAnswer = word.meaning;
                    options = generateMeaningOptions(word);
                    break;
                case 'kanji':
                    question = "Îã§Ïùå ÏùΩÍ∏∞Ïóê Ìï¥ÎãπÌïòÎäî ÌïúÏûêÎäî?";
                    japaneseContainer.textContent = word.reading;
                    correctAnswer = word.japanese;
                    options = generateKanjiOptions(word);
                    break;
            }

            questionContainer.textContent = question;
            displayOptions(options, correctAnswer);
            currentQuestion = { word, type, correctAnswer };
        }

        function generateReadingOptions(correctWord) {
            const options = [correctWord.reading];
            const similarWords = vocabularyData.filter(w => 
                w.japanese !== correctWord.japanese && 
                w.reading.length === correctWord.reading.length
            );
            
            while (options.length < 4 && similarWords.length > 0) {
                const randomWord = similarWords[Math.floor(Math.random() * similarWords.length)];
                if (!options.includes(randomWord.reading)) {
                    options.push(randomWord.reading);
                }
                similarWords.splice(similarWords.indexOf(randomWord), 1);
            }

            // Î∂ÄÏ°±Ìïú ÏÑ†ÌÉùÏßÄ Ï±ÑÏö∞Í∏∞
            const commonReadings = ['„ÅÇ„ÅÑ', '„Åà„Çì', '„Åå„Åè', '„Åõ„ÅÑ', '„Å®„ÅÜ', '„Å´„Å°', '„Åª„Çì'];
            while (options.length < 4) {
                const randomReading = commonReadings[Math.floor(Math.random() * commonReadings.length)];
                if (!options.includes(randomReading)) {
                    options.push(randomReading);
                }
            }

            return shuffleArray(options);
        }

        function generateMeaningOptions(correctWord) {
            const options = [correctWord.meaning];
            const otherWords = vocabularyData.filter(w => w.japanese !== correctWord.japanese);
            
            while (options.length < 4 && otherWords.length > 0) {
                const randomWord = otherWords[Math.floor(Math.random() * otherWords.length)];
                if (!options.includes(randomWord.meaning)) {
                    options.push(randomWord.meaning);
                }
                otherWords.splice(otherWords.indexOf(randomWord), 1);
            }

            return shuffleArray(options);
        }

        function generateKanjiOptions(correctWord) {
            const options = [correctWord.japanese];
            const similarWords = vocabularyData.filter(w => 
                w.reading !== correctWord.reading && 
                w.japanese.length === correctWord.japanese.length
            );
            
            while (options.length < 4 && similarWords.length > 0) {
                const randomWord = similarWords[Math.floor(Math.random() * similarWords.length)];
                if (!options.includes(randomWord.japanese)) {
                    options.push(randomWord.japanese);
                }
                similarWords.splice(similarWords.indexOf(randomWord), 1);
            }

            // Î∂ÄÏ°±Ìïú ÏÑ†ÌÉùÏßÄ Ï±ÑÏö∞Í∏∞
            const commonKanji = ['ÊôÇÈñì', 'Â≠¶Áîü', '‰ºöÁ§æ', 'ÈõªËªä', '‰ªäÊó•'];
            while (options.length < 4) {
                const randomKanji = commonKanji[Math.floor(Math.random() * commonKanji.length)];
                if (!options.includes(randomKanji)) {
                    options.push(randomKanji);
                }
            }

            return shuffleArray(options);
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function displayOptions(options, correctAnswer) {
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';

            options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.onclick = () => selectOption(optionElement, option);
                container.appendChild(optionElement);
            });
        }

        function selectOption(element, value) {
            // Ïù¥Ï†Ñ ÏÑ†ÌÉù Ìï¥Ï†ú
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // ÏÉàÎ°úÏö¥ ÏÑ†ÌÉù
            element.classList.add('selected');
            currentQuestion.selectedAnswer = value;
        }

        function checkAnswer() {
            if (!currentQuestion.selectedAnswer) {
                alert('ÎãµÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            totalAttempts++;
            const isCorrect = currentQuestion.selectedAnswer === currentQuestion.correctAnswer;
            
            if (isCorrect) {
                correctCount++;
            }

            // ÏãúÍ∞ÅÏ†Å ÌîºÎìúÎ∞±
            document.querySelectorAll('.option').forEach(opt => {
                if (opt.textContent === currentQuestion.correctAnswer) {
                    opt.classList.add('correct');
                } else if (opt.classList.contains('selected') && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            // ÌîºÎìúÎ∞± ÌëúÏãú
            const feedbackElement = document.getElementById('feedback');
            feedbackElement.style.display = 'block';
            feedbackElement.className = 'feedback ' + (isCorrect ? 'correct' : 'incorrect');
            
            let feedbackText = isCorrect ? 'Ï†ïÎãµÏûÖÎãàÎã§! üéâ' : 'ÌãÄÎ†∏ÏäµÎãàÎã§. üòÖ';
            feedbackText += `<br><strong>Ï†ïÎãµ:</strong> ${currentQuestion.correctAnswer}`;
            
            if (currentQuestion.word.meaning) {
                feedbackText += `<br><strong>ÏùòÎØ∏:</strong> ${currentQuestion.word.meaning}`;
            }
            
            feedbackElement.innerHTML = feedbackText;

            // Î≤ÑÌäº ÏÉÅÌÉú Î≥ÄÍ≤Ω
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';

            updateStats();
        }

        function nextQuestion() {
            currentQuestionIndex++;
            studiedCount++;
            
            // UI Î¶¨ÏÖã
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('submitBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            
            // ÏßÑÌñâÎ•† ÏóÖÎç∞Ïù¥Ìä∏
            const progress = (currentQuestionIndex % 10) * 10;
            document.getElementById('progressFill').style.width = progress + '%';
            
            generateQuestion();
        }

        function skipQuestion() {
            nextQuestion();
        }

        function updateStats() {
            document.getElementById('studiedWords').textContent = studiedCount;
            const rate = totalAttempts > 0 ? Math.round((correctCount / totalAttempts) * 100) : 0;
            document.getElementById('correctRate').textContent = rate + '%';
        }

        // Îã®Ïñ¥Ïû• ÌëúÏãú
        function displayVocabulary() {
            const container = document.getElementById('wordList');
            container.innerHTML = '';

            vocabularyData.forEach(word => {
                const wordCard = document.createElement('div');
                wordCard.className = 'word-card fade-in';
                
                wordCard.innerHTML = `
                    <div class="word-japanese">${word.japanese}</div>
                    <div class="word-reading">${word.reading}</div>
                    <div class="word-meaning">${word.meaning}</div>
                    <div class="word-frequency">Ï∂úÏ†ú ÎπàÎèÑ: ${'‚òÖ'.repeat(word.frequency)}</div>
                `;
                
                container.appendChild(wordCard);
            });
        }

        // Î¨∏Î≤ï Î¨∏Ï†ú Î°úÎìú
        function loadGrammarQuestion() {
            const randomIndex = Math.floor(Math.random() * grammarQuestions.length);
            const question = grammarQuestions[randomIndex];
            
            document.getElementById('grammarQuestion').innerHTML = question.question;
            
            const container = document.getElementById('grammarOptions');
            container.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = `${index + 1}. ${option}`;
                optionElement.onclick = () => selectGrammarOption(optionElement, index);
                container.appendChild(optionElement);
            });
            
            currentQuestion = { 
                ...question, 
                selectedAnswer: null,
                type: 'grammar'
            };
        }

        function selectGrammarOption(element, index) {
            document.querySelectorAll('#grammarOptions .option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            currentQuestion.selectedAnswer = index;
        }

        function checkGrammarAnswer() {
            if (currentQuestion.selectedAnswer === null) {
                alert('ÎãµÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            totalAttempts++;
            const isCorrect = currentQuestion.selectedAnswer === currentQuestion.correct;
            
            if (isCorrect) correctCount++;

            // ÏãúÍ∞ÅÏ†Å ÌîºÎìúÎ∞±
            const options = document.querySelectorAll('#grammarOptions .option');
            options.forEach((opt, index) => {
                if (index === currentQuestion.correct) {
                    opt.classList.add('correct');
                } else if (index === currentQuestion.selectedAnswer && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            // ÌîºÎìúÎ∞± ÌëúÏãú
            const feedbackElement = document.getElementById('grammarFeedback');
            feedbackElement.style.display = 'block';
            feedbackElement.className = 'feedback ' + (isCorrect ? 'correct' : 'incorrect');
            feedbackElement.innerHTML = (isCorrect ? 'Ï†ïÎãµÏûÖÎãàÎã§! üéâ' : 'ÌãÄÎ†∏ÏäµÎãàÎã§. üòÖ') + 
                `<br><strong>Ìï¥ÏÑ§:</strong> ${currentQuestion.explanation}`;

            // Î≤ÑÌäº ÏÉÅÌÉú Î≥ÄÍ≤Ω
            document.getElementById('grammarSubmitBtn').style.display = 'none';
            document.getElementById('grammarNextBtn').style.display = 'inline-block';

            updateStats();
        }

        function nextGrammarQuestion() {
            studiedCount++;
            
            // UI Î¶¨ÏÖã
            document.getElementById('grammarFeedback').style.display = 'none';
            document.getElementById('grammarSubmitBtn').style.display = 'inline-block';
            document.getElementById('grammarNextBtn').style.display = 'none';
            
            loadGrammarQuestion();
        }

        // ÎèÖÌï¥ Î¨∏Ï†ú Î°úÎìú
        function loadReadingQuestion() {
            const randomIndex = Math.floor(Math.random() * readingQuestions.length);
            const question = readingQuestions[randomIndex];
            
            document.getElementById('readingPassage').innerHTML = `<div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px; line-height: 1.8; font-size: 1.2rem;">${question.passage}</div>`;
            document.getElementById('readingQuestion').innerHTML = question.question;
            
            const container = document.getElementById('readingOptions');
            container.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = `${index + 1}. ${option}`;
                optionElement.onclick = () => selectReadingOption(optionElement, index);
                container.appendChild(optionElement);
            });
            
            currentQuestion = { 
                ...question, 
                selectedAnswer: null,
                type: 'reading'
            };
        }

        function selectReadingOption(element, index) {
            document.querySelectorAll('#readingOptions .option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            currentQuestion.selectedAnswer = index;
        }

        function checkReadingAnswer() {
            if (currentQuestion.selectedAnswer === null) {
                alert('ÎãµÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            totalAttempts++;
            const isCorrect = currentQuestion.selectedAnswer === currentQuestion.correct;
            
            if (isCorrect) correctCount++;

            // ÏãúÍ∞ÅÏ†Å ÌîºÎìúÎ∞±
            const options = document.querySelectorAll('#readingOptions .option');
            options.forEach((opt, index) => {
                if (index === currentQuestion.correct) {
                    opt.classList.add('correct');
                } else if (index === currentQuestion.selectedAnswer && !isCorrect) {
                    opt.classList.add('incorrect');
                }
            });

            // ÌîºÎìúÎ∞± ÌëúÏãú
            const feedbackElement = document.getElementById('readingFeedback');
            feedbackElement.style.display = 'block';
            feedbackElement.className = 'feedback ' + (isCorrect ? 'correct' : 'incorrect');
            feedbackElement.innerHTML = (isCorrect ? 'Ï†ïÎãµÏûÖÎãàÎã§! üéâ' : 'ÌãÄÎ†∏ÏäµÎãàÎã§. üòÖ') + 
                `<br><strong>Ìï¥ÏÑ§:</strong> ${currentQuestion.explanation}`;

            // Î≤ÑÌäº ÏÉÅÌÉú Î≥ÄÍ≤Ω
            document.getElementById('readingSubmitBtn').style.display = 'none';
            document.getElementById('readingNextBtn').style.display = 'inline-block';

            updateStats();
        }

        function nextReadingQuestion() {
            studiedCount++;
            
            // UI Î¶¨ÏÖã
            document.getElementById('readingFeedback').style.display = 'none';
            document.getElementById('readingSubmitBtn').style.display = 'inline-block';
            document.getElementById('readingNextBtn').style.display = 'none';
            
            loadReadingQuestion();
        }

        // Ï¥àÍ∏∞Ìôî
        window.onload = function() {
            generateQuestion();
        };

        // ÌÇ§Î≥¥Îìú Îã®Ï∂ïÌÇ§
        document.addEventListener('keydown', function(event) {
            if (event.key >= '1' && event.key <= '4') {
                const optionIndex = parseInt(event.key) - 1;
                const options = document.querySelectorAll('.option');
                if (options[optionIndex]) {
                    options[optionIndex].click();
                }
            } else if (event.key === 'Enter') {
                const submitBtn = document.querySelector('.btn-primary[style*="inline-block"], .btn-primary:not([style*="none"])');
                const nextBtn = document.querySelector('.btn-success[style*="inline-block"]');
                
                if (nextBtn && nextBtn.style.display !== 'none') {
                    nextBtn.click();
                } else if (submitBtn && submitBtn.style.display !== 'none') {
                    submitBtn.click();
                }
            } else if (event.key === ' ') {
                event.preventDefault();
                skipQuestion();
            }
        });

        // Ï∂îÍ∞Ä Ïñ¥Ìúò Îç∞Ïù¥ÌÑ∞ (Îçî ÎßéÏùÄ Îã®Ïñ¥Îì§)
        const additionalVocabulary = [
            { japanese: '„ÅÇ„Åó„Åü', reading: '„ÅÇ„Åó„Åü', meaning: 'ÎÇ¥Ïùº', frequency: 4, level: 'basic' },
            { japanese: '„ÅÇ„Åù„Å∂', reading: '„ÅÇ„Åù„Å∂', meaning: 'ÎÜÄÎã§', frequency: 3, level: 'basic' },
            { japanese: '„ÅÇ„Åü„Åü„Åã„ÅÑ', reading: '„ÅÇ„Åü„Åü„Åã„ÅÑ', meaning: 'Îî∞ÎúªÌïòÎã§', frequency: 3, level: 'basic' },
            { japanese: '„ÅÇ„Åæ„ÅÑ', reading: '„ÅÇ„Åæ„ÅÑ', meaning: 'Îã¨Îã§', frequency: 3, level: 'basic' },
            { japanese: '„ÅÇ„Çâ„ÅÜ', reading: '„ÅÇ„Çâ„ÅÜ', meaning: 'ÏîªÎã§', frequency: 3, level: 'basic' },
            { japanese: '„ÅÇ„Çã„Åè', reading: '„ÅÇ„Çã„Åè', meaning: 'Í±∑Îã§', frequency: 4, level: 'intermediate' },
            { japanese: '„ÅÑ„Åè„Çâ', reading: '„ÅÑ„Åè„Çâ', meaning: 'ÏñºÎßà(Í∞í)', frequency: 4, level: 'intermediate' },
            { japanese: '„ÅÑ„Åù„Åå„Åó„ÅÑ', reading: '„ÅÑ„Åù„Åå„Åó„ÅÑ', meaning: 'Î∞îÏÅòÎã§', frequency: 4, level: 'intermediate' },
            { japanese: '„ÅÑ„Å¨', reading: '„ÅÑ„Å¨', meaning: 'Í∞ú', frequency: 3, level: 'intermediate' },
            { japanese: '„Åä„ÅÑ„Åó„ÅÑ', reading: '„Åä„ÅÑ„Åó„ÅÑ', meaning: 'ÎßõÏûàÎã§', frequency: 5, level: 'intermediate' },
            { japanese: '„Åä„Åç„Çã', reading: '„Åä„Åç„Çã', meaning: 'ÏùºÏñ¥ÎÇòÎã§', frequency: 4, level: 'intermediate' },
            { japanese: '„Åä„ÇÇ„Åó„Çç„ÅÑ', reading: '„Åä„ÇÇ„Åó„Çç„ÅÑ', meaning: 'Ïû¨ÎØ∏ÏûàÎã§', frequency: 4, level: 'advanced' },
            { japanese: '„Ç´„É°„É©', reading: '„Ç´„É°„É©', meaning: 'Ïπ¥Î©îÎùº', frequency: 3, level: 'advanced' },
            { japanese: '„Çø„ÇØ„Ç∑„Éº', reading: '„Çø„ÇØ„Ç∑„Éº', meaning: 'ÌÉùÏãú', frequency: 4, level: 'advanced' },
            { japanese: '„É¨„Çπ„Éà„É©„É≥', reading: '„É¨„Çπ„Éà„É©„É≥', meaning: 'Î†àÏä§ÌÜ†Îûë', frequency: 3, level: 'advanced' }
        ];

        // Ïñ¥Ìúò Îç∞Ïù¥ÌÑ∞Ïóê Ï∂îÍ∞Ä
        vocabularyData.push(...additionalVocabulary);

        // Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄ ÌôúÏö© (ÏßÑÌñâ ÏÉÅÌô© Ï†ÄÏû•)
        function saveProgress() {
            const progress = {
                studiedCount,
                correctCount,
                totalAttempts,
                lastStudyDate: new Date().toDateString()
            };
            localStorage.setItem('jlptProgress', JSON.stringify(progress));
        }

        function loadProgress() {
            const saved = localStorage.getItem('jlptProgress');
            if (saved) {
                const progress = JSON.parse(saved);
                studiedCount = progress.studiedCount || 0;
                correctCount = progress.correctCount || 0;
                totalAttempts = progress.totalAttempts || 0;
                updateStats();
            }
        }

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú ÏßÑÌñâÏÉÅÌô© Î∂àÎü¨Ïò§Í∏∞
        loadProgress();

        // ÌéòÏù¥ÏßÄ Ï¢ÖÎ£å Ïãú ÏßÑÌñâÏÉÅÌô© Ï†ÄÏû•
        window.addEventListener('beforeunload', saveProgress);
    </script>
</body>
</html>